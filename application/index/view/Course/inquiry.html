<!DOCTYPE html>
<html lang="zh-hans">
<head>
    <meta charset="utf-8">
    <title>课程管理</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body class="container">
    <h2 style="text-align: center">查询课程</h2>

    <hr />

    <div class="row">
        <div class="col-md-8">
            <form class="form-inline" action="{:url('inquiry')}" method="post">
                <select name="Courseid" class="btn btn-default">
                    {volist name="$Course->all()" id="course"}
                        <option {eq name="$course->id" value="$Course->id"}selected="true"{/eq} value="{$course->id}">
                            {$course->name}
                        </option>
                    {/volist}
                </select>

                <select name="Termid" class="btn btn-default">
                    {volist name="$Term->all()" id="term"}
                        <option {eq name="$term->id" value="$Term->id"}selected="true"{/eq} value="{$term->id}">
                            {$term->name}
                        </option>
                    {/volist}
                </select>
                
                <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i>&nbsp;查询</button>
            </form>
        </div>
    </div>

    <hr />

    <table class="table table-hover table-bordered">
        <tr class="info">
            <th class="col-md-2"></th>
            <th class="col-md-2">第一节</th>
            <th class="col-md-2">第二节</th>
            <th class="col-md-2">第三节</th>
            <th class="col-md-2">第四节</th>
            <th class="col-md-2">第五节</th>
        </tr>
        {volist name="$CourseTerm->getDays()" id="day" key="key"}
            <tr>
                <td>星期{$key}</td>
                {volist name="$day->getKnobs()" id="knob"}
                    <td>
                        {eq name="$knob->getCourseLength()" value="0"}
                            <a href="{:url('add' , [
                                    'course' => $knob->Course,
                                    'term'   => $knob->Term,
                                    'day'    => $knob->Day,
                                    'knob'   => $knob->Knob
                                ])}" class="btn btn-success">
                                <i class="glyphicon glyphicon-plus"></i>
                            </a>
                            {else /}
                            <a href="{:url('edit' , [
                                    'course' => $knob->Course,
                                    'term'   => $knob->Term,
                                    'day'    => $knob->Day,
                                    'knob'   => $knob->Knob
                                ])}" class="btn btn-default">
                                {$knob->getCourseWeek()}
                            </a>
                        {/eq}
                    </td>
                {/volist}
            </tr>
        {/volist}
    </table>
    
</body>
</html>